<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Voice Assistant</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header Section -->
    <header class="header">
      <h1>ğŸ¤– AI Voice Assistant</h1>
      <p class="subtitle">Real-time screen sharing with AI guidance</p>
    </header>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Left Panel: Screen Sharing Controls -->
      <div class="left-panel">
        <div class="card">
          <h2>Screen Sharing</h2>
          
          <!-- Screen Preview -->
          <div class="screen-preview">
            <video id="screenPreview" autoplay muted></video>
            <canvas id="captureCanvas" style="display: none;"></canvas>
            <div id="previewPlaceholder" class="placeholder">
              <p>ğŸ“º Screen preview will appear here</p>
            </div>
          </div>

          <!-- Screen Sharing Controls -->
          <div class="controls">
            <button id="startBtn" class="btn btn-primary">â–¶ï¸ Start Sharing</button>
            <button id="pauseBtn" class="btn btn-secondary" disabled>â¸ï¸ Pause</button>
            <button id="stopBtn" class="btn btn-danger" disabled>â¹ï¸ Stop</button>
          </div>

          <!-- Status Indicator -->
          <div class="status">
            <span id="statusIndicator" class="status-dot status-inactive"></span>
            <span id="statusText">Not Connected</span>
          </div>

          <!-- Frame Rate Info -->
          <div class="info">
            <p><strong>Connection:</strong> <span id="connectionStatus">Disconnected</span></p>
          </div>
        </div>
      </div>

      <!-- Right Panel: Chat Interface -->
      <div class="right-panel">
        <div class="card chat-card">
          <h2>ğŸ’¬ Chat with AI Assistant</h2>
          
          <!-- Chat Messages Container -->
          <div id="chatMessages" class="chat-messages">
            <div class="message system-message">
              <p>Welcome! Start sharing your screen and ask me anything.</p>
            </div>
          </div>

          <!-- Chat Input -->
          <div class="chat-input-container">
            <input 
              type="text" 
              id="chatInput" 
              class="chat-input" 
              placeholder="Type your message here..."
              autocomplete="off"
            />
            <button id="sendBtn" class="btn btn-primary">Send</button>
          </div>

          <!-- Session Controls -->
          <div class="session-controls">
            <button id="saveSessionBtn" class="btn btn-success">ğŸ’¾ Save Session</button>
            <button id="clearChatBtn" class="btn btn-secondary">ğŸ—‘ï¸ Clear Chat</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating Overlay for Screen Sharing Mode -->
  <div id="floatingOverlay" class="floating-overlay hidden">
    <!-- Countdown Timer -->
    <div id="countdownTimer" class="countdown-timer hidden">
      <div class="countdown-number">3</div>
    </div>

    <!-- Floating Control Bar -->
    <div class="floating-control-bar">
      <input 
        type="text" 
        id="floatingChatInput" 
        class="floating-chat-input" 
        placeholder="Ask a question or press Send to capture screen..."
        autocomplete="off"
      />
      <button id="floatingSendBtn" class="floating-btn floating-btn-send">ğŸ“¤ Send</button>
      <button id="floatingStopBtn" class="floating-btn floating-btn-stop">â¹ï¸ Stop</button>
    </div>
  </div>

  <!-- Load JavaScript Modules -->
  <script src="config.js"></script>
  <script src="webrtc.js"></script>
  <script src="websocket.js"></script>
  <script src="chat.js"></script>
  <script src="app.js"></script>
</body>
</html>
